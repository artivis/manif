<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>manif</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i%7CSource+Code+Pro:400,400i,600" />
  <link rel="stylesheet" href="m-dark+documentation.compiled.css" />
  <link rel="icon" href="favicon-dark.png" type="image/png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#22272e" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <a href="index.html" id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m">manif</a>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li><a href="pages.html">Pages</a></li>
            <li><a href="./cpp/index.html">C++</a></li>
            <li><a href="./python/index.html">Python</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="4">
            <li><a href="./md_pages_publication.html">Publications</a></li>
            <li><a href="https://github.com/artivis/manif">GitHub</a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          manif
        </h1>
<p><a name="md__home_runner_work_manif_manif_README"></a></p><section id="autotoc_md1"><h2><a href="#autotoc_md1">A small header-only library for Lie theory</a></h2><p><a href="https://github.com/artivis/manif/workflows/build-and-test/badge.svg?branch=devel"><img class="m-image" src="https://github.com/artivis/manif/workflows/build-and-test/badge.svg?branch=devel" alt="Image" /></a> <a href="https://ci.appveyor.com/project/artivis/manif"><img class="m-image" src="https://ci.appveyor.com/api/projects/status/l0q7b0shhonvejrd?svg=true" alt="Image" /></a> <a href="https://artivis.github.io/manif/"><img class="m-image" src="https://codedocs.xyz/artivis/manif.svg" alt="Image" /></a> <a href="https://codecov.io/gh/artivis/manif"><img class="m-image" src="https://codecov.io/gh/artivis/manif/branch/devel/graph/badge.svg" alt="Image" /></a></p><img class="m-image" src="https://img.shields.io/github/license/mashape/apistatus.svg" alt="Image" />
 <p><a href="https://joss.theoj.org/papers/10.21105/joss.01371"><img class="m-image" src="http://joss.theoj.org/papers/e3fc778689407f0edd19df8c2089c160/status.svg" alt="Image" /></a></p></section><section id="autotoc_md2"><h2><a href="#autotoc_md2">Package Summary</a></h2><p><strong>manif</strong> is a Lie theory library for state-estimation targeted at robotics applications. It is developed as a header-only C++11 library with Python 3 wrappers.</p><p>At the moment, it provides the groups:</p><ul><li>‚Ñù(n): Euclidean space with addition.</li><li>SO(2): rotations in the plane.</li><li>SE(2): rigid motion (rotation and translation) in the plane.</li><li>SO(3): rotations in 3D space.</li><li>SE(3): rigid motion (rotation and translation) in 3D space.</li><li>SE_2(3): extended pose (rotation, translation and velocity) in 3D space, introduced (to the best of knowledge) in this <a href="https://arxiv.org/pdf/1410.1465.pdf">paper</a>. NOTE: The implementation here differs slightly from the developments in the <a href="https://arxiv.org/pdf/1410.1465.pdf">paper</a>.</li><li>Bundle&lt;&gt;: allows manipulating a manifold bundle as a single Lie group. Referred to as a <em>composite manifold</em> in Section IV of the <a href="http://arxiv.org/abs/1812.01537">reference paper</a>.</li></ul><p>Other Lie groups can and will be added, contributions are welcome.</p><p><strong>manif</strong> is based on the mathematical presentation of the Lie theory available in <a href="http://arxiv.org/abs/1812.01537">this paper</a>. We recommend every user of <strong>manif</strong> to read the paper (17 pages) before starting to use the library. The paper provides a thorough introduction to Lie theory, in a simplified way so as to make the entrance to Lie theory easy for the average roboticist who is interested in designing rigorous and elegant state estimation algorithms.</p><p>You may also find the following video online, <a href="https://www.youtube.com/watch?v=nHOcoIyJj2o">&#x27;Lie theory for the roboticist&#x27;</a>, a lecture given at <a href="https://www.iri.upc.edu/">IRI-UPC</a>. In a rush? Check out our <a href="paper/Lie_theory_cheat_sheet.pdf">Lie group cheat sheet</a>.</p><p>It provides analytic computation of Jacobians for all the operations listed <a href="#features">below</a>.</p><section id="autotoc_md3"><h3><a href="#autotoc_md3">Details</a></h3><ul><li>Maintainer status: maintained</li><li>Maintainer: Jeremie Deray</li><li>Authors:<ul><li>Jeremie Deray <a href="mailto:deray.jeremie@gmail.com">deray.jeremie@gmail.com</a></li><li>Joan Sola <a href="mailto:jsola@iri.upc.edu">jsola@iri.upc.edu</a></li></ul></li><li>License: [MIT](LICENSE)</li><li>Bug / feature tracker: <a href="https://github.com/artivis/manif/issues">github.com/<wbr />artivis/<wbr />manif/<wbr />issues</a></li><li>Source: <a href="https://github.com/artivis/manif.git">github.com/<wbr />artivis/<wbr />manif.git</a> (branch: devel)</li></ul></section></section><section id="autotoc_md4"><h2><a href="#autotoc_md4">Quick Start</a></h2><p>Get quickly started with <strong>manif</strong> following our &#x27;quick start&#x27; guides for both C++ and Python.</p></section><section id="autotoc_md5"><h2><a href="#autotoc_md5">Features</a></h2><section id="autotoc_md6"><h3><a href="#autotoc_md6">Available Operations</a></h3><table class="m-table"><thead><tr><th>Operation</th><th></th><th>Code</th></tr></thead><tbody><tr><td></td><td>Base Operation</td><td></td></tr><tr><td>Inverse</td><td><img class="m-image" src="https://latex.codecogs.com/svg.latex?\color{white}\mathbf&space;\mathcal{X}^{-1}" alt="Image" /></td><td><code>X.inverse()</code></td></tr><tr><td>Composition</td><td><img class="m-image" src="https://latex.codecogs.com/svg.latex?\color{white}\mathbf&space;\mathcal{X}&space;\circ&space;\mathbf&space;\mathcal{Y}" alt="Image" /></td><td><code>X * Y</code><br /><code>X.compose(Y)</code></td></tr><tr><td>Hat</td><td><img class="m-image" src="https://latex.codecogs.com/svg.latex?\color{white}\varphi^\wedge" alt="Image" /></td><td><code>w.hat()</code></td></tr><tr><td>Act on vector</td><td><img class="m-image" src="https://latex.codecogs.com/svg.latex?\color{white}\mathbf\mathcal{X}\circ\mathbf&space;v" alt="Image" /></td><td><code>X.act(v)</code></td></tr><tr><td>Retract to group element</td><td><img class="m-image" src="https://latex.codecogs.com/svg.latex?\color{white}\exp(\mathbf\varphi^\wedge)" alt="Image" /></td><td><code>w.exp()</code></td></tr><tr><td>Lift to tangent space</td><td><img class="m-image" src="https://latex.codecogs.com/svg.latex?\color{white}\log(\mathbf&space;\mathcal{X})^\vee" alt="Image" /></td><td><code>X.log()</code></td></tr><tr><td>Manifold Adjoint</td><td><img class="m-image" src="https://latex.codecogs.com/svg.latex?\color{white}\operatorname{Adj}(\mathbf&space;\mathcal{X})" alt="Image" /></td><td><code>X.adj()</code></td></tr><tr><td>Tangent adjoint</td><td><img class="m-image" src="https://latex.codecogs.com/svg.latex?\color{white}\operatorname{adj}(\mathbf&space;\varphi^\wedge)" alt="Image" /></td><td><code>w.smallAdj()</code></td></tr><tr><td></td><td>Composed Operation</td><td></td></tr><tr><td>Manifold right plus</td><td><img class="m-image" src="https://latex.codecogs.com/svg.latex?\color{white}\mathbf\mathcal{X}\oplus\mathbf\varphi=\mathbf\mathcal{X}\circ\exp(\mathbf\varphi^\wedge)" alt="Image" /></td><td><code>X + w</code><br /><code>X.plus(w)</code><br /><code>X.rplus(w)</code></td></tr><tr><td>Manifold left plus</td><td><img class="m-image" src="https://latex.codecogs.com/svg.latex?\color{white}\mathbf\varphi\oplus\mathbf\mathcal{X}=\exp(\mathbf\varphi^\wedge)\circ\mathbf\mathcal{X}" alt="Image" /></td><td><code>w + X</code><br /><code>w.plus(X)</code><br /><code>w.lplus(X)</code></td></tr><tr><td>Manifold right minus</td><td><img class="m-image" src="https://latex.codecogs.com/svg.latex?\color{white}\mathbf\mathcal{X}\ominus\mathbf\mathcal{Y}=\log(\mathbf\mathcal{Y}^{-1}\circ\mathbf\mathcal{X})^\vee" alt="Image" /></td><td><code>X - Y</code><br /><code>X.minus(Y)</code><br /><code>X.rminus(Y)</code></td></tr><tr><td>Manifold left minus</td><td><img class="m-image" src="https://latex.codecogs.com/svg.latex?\color{white}\mathbf\mathcal{X}\ominus\mathbf\mathcal{Y}=\log(\mathbf\mathcal{X}\circ\mathbf\mathcal{Y}^{-1})^\vee\phantom{.}" alt="Image" /></td><td><code>X.lminus(Y)</code></td></tr><tr><td>Between</td><td><img class="m-image" src="https://latex.codecogs.com/svg.latex?\color{white}\mathbf\mathcal{X}^{-1}\circ\mathbf\mathcal{Y}" alt="Image" /></td><td><code>X.between(Y)</code></td></tr><tr><td>Inner Product</td><td><img class="m-image" src="https://latex.codecogs.com/svg.latex?\color{white}\langle\varphi,\tau\rangle" alt="Image" /></td><td><code>w.inner(t)</code></td></tr><tr><td>Norm</td><td><img class="m-image" src="https://latex.codecogs.com/svg.latex?\color{white}\left\lVert\varphi\right\rVert" alt="Image" /></td><td><code>w.weightedNorm()</code><br /><code>w.squaredWeightedNorm()</code></td></tr></tbody></table><p>Above,</p><img class="m-image" src="https://latex.codecogs.com/svg.latex?\color{white}\mathbf\mathcal{X},\mathbf\mathcal{Y}" alt="Image" /><p>represent group elements,</p><img class="m-image" src="https://latex.codecogs.com/svg.latex?\color{white}\mathbf\varphi^\wedge,\tau^\wedge" alt="Image" /><p>represent elements in the Lie algebra of the Lie group,</p><img class="m-image" src="https://latex.codecogs.com/svg.latex?\color{white}\mathbf\varphi,\tau" alt="Image" /><p>or <code>w,t</code> represent the same elements of the tangent space but expressed in Cartesian coordinates in</p><img class="m-image" src="https://latex.codecogs.com/svg.latex?\color{white}\mathbb{R}^n" alt="Image" /><p>, and</p><img class="m-image" src="https://latex.codecogs.com/svg.latex?\color{white}\mathbf{v}" alt="Image" /><p>or <code>v</code> represents any element of</p><img class="m-image" src="https://latex.codecogs.com/svg.latex?\color{white}\mathbb{R}^n" alt="Image" /><p>.</p></section><section id="autotoc_md7"><h3><a href="#autotoc_md7">Jacobians</a></h3><p>All operations come with their respective analytical Jacobian matrices. Throughout <strong>manif</strong>, <strong>Jacobians are differentiated with respect to a local perturbation on the tangent space</strong>. These Jacobians map tangent spaces, as described in <a href="http://arxiv.org/abs/1812.01537">this paper</a>.</p><p>Currently, <strong>manif</strong> implements the <strong>right Jacobian</strong>, whose definition reads:</p><img class="m-image" src="https://latex.codecogs.com/svg.latex?\color{white}\frac{\delta&space;f(\mathbf\mathcal{X})}{\delta\mathbf\mathcal{X}}\triangleq\lim_{\varphi\to0}\frac{&space;f(\mathbf\mathcal{X}\oplus\varphi)\ominus&space;f(\mathbf\mathcal{X})}{\varphi}\triangleq\lim_{\varphi\to0}\frac{\log(f(\mathbf\mathcal{X})^{-1}&space;f(\mathbf\mathcal{X}\exp(\varphi^\wedge)))^\vee}{\varphi}" alt="Image" /><p>The Jacobians of any of the aforementionned operations can then be evaluated:</p><p>in C++,</p><pre class="m-code"><span class="n">SE3d</span><span class="w"> </span><span class="n">X</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SE3d</span><span class="o">::</span><span class="n">Random</span><span class="p">();</span><span class="w"></span>
<span class="n">SE3Tangentd</span><span class="w"> </span><span class="n">w</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SE3Tangentd</span><span class="o">::</span><span class="n">Random</span><span class="p">();</span><span class="w"></span>

<span class="n">SE3d</span><span class="o">::</span><span class="n">Jacobian</span><span class="w"> </span><span class="n">J_o_x</span><span class="p">,</span><span class="w"> </span><span class="n">J_o_w</span><span class="p">;</span><span class="w"></span>

<span class="k">auto</span><span class="w"> </span><span class="n">X_plus_w</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">X</span><span class="p">.</span><span class="n">plus</span><span class="p">(</span><span class="n">w</span><span class="p">,</span><span class="w"> </span><span class="n">J_o_x</span><span class="p">,</span><span class="w"> </span><span class="n">J_o_w</span><span class="p">);</span><span class="w"></span></pre><p>in Python,</p><pre class="m-code">X = SE3.Random()
w = SE3Tangentd.Random()

J_o_x = np.zeros((SE3.DoF, SE3.DoF))
J_o_w = np.zeros((SE3.DoF, SE3.DoF))

X_plus_w = X.plus(w, J_o_x, J_o_w)</pre><section id="autotoc_md8"><h4><a href="#autotoc_md8">Note</a></h4><p>While Jacobians in <strong>manif</strong> are differentiated with respect to a local perturbation on the tangent space, many non-linear solvers (e.g. <a href="http://ceres-solver.org/">Ceres</a>) expect functions to be differentiated with respect to the underlying representation vector of the group element (e.g. with respect to quaternion vector for <code>SO3</code>).</p><p>For this reason, <strong>manif</strong> is compliant with the auto-differentiation libraries <a href="http://ceres-solver.org/automatic_derivatives.html#dual-numbers-jets"><code>ceres::Jet</code></a>, <a href="https://autodiff.github.io/"><code>autodiff::Dual</code></a> &amp; <a href="https://autodiff.github.io/"><code>autodiff::Real</code></a>.</p></section></section></section><section id="autotoc_md9"><h2><a href="#autotoc_md9">Documentation</a></h2><p>The documentation is available online at the accompanying <a href="https://artivis.github.io/manif/">website</a>. Both the <a href="https://artivis.github.io/manif/cpp/index.html">C++</a> and the <a href="https://artivis.github.io/manif/python/index.html">Python</a> APIs are documented.</p><p>Do you want to build it locally? Find out how on the <a href="md_pages_documentation.html" class="m-doc">dedicated page</a>.</p><p>Note: throughout the code documentation we refer to &#x27;the paper&#x27; which you can find on <a href="md_pages_publication.html" class="m-doc">the dedicated page</a>.</p></section><section id="autotoc_md10"><h2><a href="#autotoc_md10">Tutorials and application demos</a></h2><p>We provide some self-contained and self-explained <a href="docs/pages/cpp/Quick-start.md#tutorials-and-application-demos">C++ examples</a> to help you get started.</p><p>You prefer Python? The same examples are also <a href="docs/pages/python/Quick-start.md#tutorials-and-application-demos">available in Python</a>.</p></section><section id="autotoc_md11"><h2><a href="#autotoc_md11">Publications</a></h2><p>Check out our related <a href="md_pages_publication.html" class="m-doc">publications</a> and how to cite them.</p></section><section id="autotoc_md12"><h2><a href="#autotoc_md12">They use manif</a></h2><p>Find out <a href="md_pages_projects.html" class="m-doc">who&#x27;s already using manif</a>.</p></section><section id="autotoc_md13"><h2><a href="#autotoc_md13">Contributing</a></h2><p>Want to contribute? Great! Check out our contribution guidelines.</p></section>
      </div>
    </div>
  </div>
</article></main>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>manif. Created with <a href="https://doxygen.org/">Doxygen</a> 1.9.1 and <a href="https://mcss.mosra.cz/">m.css</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>
